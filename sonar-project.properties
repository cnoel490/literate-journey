sonar.projectKey=aristanetworks_avd
sonar.organization=aristanetworks-1

# Path to sources
sonar.sources=\
    python-avd/,\
    python/,\
    ansible_collections/arista/avd/plugins/,\
    rust/

# Exclude generated classes and ANTA related code while in preview
sonar.exclusions=\
    python-avd/tests/**,\
    python-avd/pyavd/_eos_cli_config_gen/schema/__init__.py,\
    python-avd/pyavd/_eos_designs/schema/__init__.py,\
    python-avd/pyavd/_eos_designs/eos_designs_facts/schema/protocol.py,\
    python-avd/pyavd/_cv/api/**,\
    python-avd/pyavd/_anta/**,\
    python-avd/**/coverage.xml,\
    python-avd/pyavd/api/_anta/**,\
    python/**/tests/**,\
    python/**/coverage.xml,\
    ansible_collections/arista/avd/plugins/action/anta_workflow.py

# disable SCM exclusions to get the compiled templates
sonar.scm.exclusions.disabled=true

# Exclude compiled templates from duplication detection
sonar.cpd.exclusions=\
    python-avd/pyavd/_eos_cli_config_gen/j2templates/compiled_templates/**,\
    python-avd/pyavd/_eos_designs/j2templates/compiled_templates/**

# Ignore issues on all compiled templates using regex match
sonar.issue.ignore.allfile=e1
sonar.issue.ignore.allfile.e1.fileRegexp=^name = .*\.j2\'$

# Path to tests
sonar.tests=\
    python-avd/tests/,\
    python/avdutils/tests/

# Python version
sonar.python.version=\
    3.10,\
    3.11,\
    3.12,\
    3.13

sonar.python.coverage.reportPaths=\
    python-avd/coverage.xml,\
    python/avdutils/coverage.xml,\
    ansible_collections/arista/avd/*coverage.xml

sonar.cfamily.llvm-cov.reportPath=\
    lcov.info
