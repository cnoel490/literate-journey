fabric_name: FABRIC_MISSING_DOWNLINK_INTERFACES

default_node_types:
  - node_type: spine
    match_hostnames: [.*spine]
  - node_type: l3leaf
    match_hostnames: [.*l3leaf]

spine:
  defaults:
    bgp_as: 65001
    loopback_ipv4_pool: 192.168.4.0/24
  nodes:
    - name: missing-downlink-interfaces-spine
      id: 10

l3leaf:
  defaults:
    bgp_as: 65010
    uplink_interfaces: [Ethernet1, Ethernet2]
    uplink_switches: [missing-downlink-interfaces-spine]
    uplink_ipv4_pool: 192.168.1.0/24
    vtep_loopback_ipv4_pool: 192.168.2.0/24
    loopback_ipv4_pool: 192.168.3.0/24
  nodes:
    - name: missing-downlink-interfaces-l3leaf
      id: 1

expected_error_message: >-
  'uplink_switch_interfaces' is not set on 'missing-downlink-interfaces-l3leaf' and 'uplink_switch' 'missing-downlink-interfaces-spine'
  does not have any 'downlink_interfaces' set under 'default_interfaces'. At least one or the other must be defined.
