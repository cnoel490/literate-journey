---
fabric_name: FABRIC_FAILURE_CV_TOPOLOGY_UPLINK_SWITCHES

bgp_as: 65000

# Nodes
type: l2leaf
l2leaf:
  nodes:
    - name: failure-cv-topology-uplink-switches
      id: 1
      uplink_switches: ["DC1-L3LEAF1"]

use_cv_topology: true
cv_topology:
  - hostname: missing-cv-topology-levels-type
    platform: vEOS-LAB
    interfaces:
      - name: Ethernet1
        neighbor: DC1-SUPER-SPINE1
        neighbor_interface: Ethernet5
      - name: Ethernet2
        neighbor: DC1-POD1-SPINE1
        neighbor_interface: Ethernet6
      - name: Ethernet3
        neighbor: DC1-POD1-LEAF1A
        neighbor_interface: Ethernet4
cv_topology_levels:
  - type: core_router
    level: 0
  - type: super-spine
    level: 1
  - type: spine
    level: 2
  - type: l3leaf
    level: 3
  - type: l2leaf
    level: 4

expected_error_message: >-
  'uplink_switches', 'uplink_interfaces', 'uplink_switch_interfaces' and 'mlag_interfaces' should not be set when 'use_cv_topology' is set to 'true'.
