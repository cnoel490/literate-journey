---
type: l3leaf
l3leaf:
  defaults:
    loopback_ipv4_pool: 192.168.255.0/24
    vtep_loopback_ipv4_pool: 192.168.254.0/24
  nodes:
    - name: platform_settings
      id: 101
      bgp_as: 101

platform_settings:
  - platforms: [ default ]
    # Test for security_entropy_sources
    security_entropy_sources:
      hardware: true
      haveged: true
      cpu_jitter: true
      hardware_exclusive: true
    # Prevent mtu generation under subinterface.
    feature_support:
      subinterface_mtu: false
    # Test for structured_config
    structured_config:
      ethernet_interfaces:
        - name: Ethernet12
          switchport:
            enabled: true
          description: Interface Created from platform_settings.structured_config

tenants:
  - name: TENANT1
    mac_vrf_vni_base: 10000
    vrfs:
      - name: default
        vrf_id: 1
        l3_interfaces:
          - interfaces: [Ethernet10.10]
            ip_addresses: [10.10.10.10/24]
            nodes: [platform_settings]
            # mtu will not be configured for the sub-interface
            mtu: 9000
            enabled: true
            description: "test sub interface mtu false"
