---
### VxLAN interface ###

vxlan_interface:
  vxlan1:
    description: DC1-LEAF2A_VTEP
    vxlan:
      source_interface: Loopback0
      shutdown: false
      multicast:
        headend_replication: true
      controller_client:
        enabled: true
      encapsulations:
        ipv4: true
        ipv6: true
      mlag_source_interface: Loopback1
      udp_port: 4789
      vtep_to_vtep_bridging: true
      virtual_router_encapsulation_mac_address: mlag-system-id
      qos:
        dscp_propagation_encapsulation: true
        map_dscp_to_traffic_class_decapsulation: true
        ecn_propagation: true
        dscp_ecn:
          rewrite_bridged_enabled: true
      bfd_vtep_evpn:
        interval: 300
        min_rx: 300
        multiplier: 3
        prefix_list: PL-TEST
      vlans:
        - id: 110
          vni: 10110
          multicast_group: 239.9.1.4
        - id: 111
          vni: 10111
          # To test flood_group with flood_vteps
          flood_vteps:
            - 10.1.1.10
            - 10.1.1.11
          flood_group: 232.1.1.21
        - id: 112
          multicast_group: 239.9.1.6
          # To test flood_group without flood_vteps
          flood_group: 232.1.1.22

      vrfs:
        - name: Tenant_A_OP_Zone
          vni: 10
          multicast_group: 232.0.0.10
          multicast_group_encap_range: 239.0.43.0/24
          # Testing same encap (225.0.41.1) and different encap (225.0.41.2).
          multicast_groups:
            - overlay_group: 239.1.1.0
              encap: 225.0.41.1
            - overlay_group: 239.1.1.1
              encap: 225.0.41.1
            - overlay_group: 239.1.1.2
              encap: 225.0.41.2
        - name: Tenant_A_WEB_Zone
          vni: 11
      flood_vteps:
        - 10.1.0.10
        - 10.1.0.11
      flood_vtep_learned_data_plane: true
    eos_cli: |
        vxlan encapsulation ipv4
