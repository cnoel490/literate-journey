---
underlay_routing_protocol: isis
underlay_isis_authentication_mode: md5
underlay_isis_authentication_cleartext_key: arista

type: l3leaf

l3leaf:
  defaults:
    mlag_peer_vlan: 4094
    mlag_peer_l3_vlan: 4094
    mlag_peer_ipv4_pool: 10.10.254.0/24
    uplink_ipv4_pool: 10.10.100.0/24
    loopback_ipv4_pool: 192.168.254.0/24
    loopback_ipv4_offset: 32
    vtep_loopback_ipv4_pool: 192.168.253.0/24
    platform: vEOS-LAB
    uplink_switches: ["MLAG-ISIS-SPINE"]
    uplink_interfaces: ["Ethernet1"]
  node_groups:
    - group: ISIS_CLEARTEXT_KEYS_LEAFS
      nodes:
        - name: isis-cleartext-keys-leaf1
          id: 4
          bgp_as: 65161
          mgmt_ip: 192.168.201.118/24
          uplink_switch_interfaces: [Ethernet32]
          mlag_interfaces: [Ethernet5, Ethernet6]
        - name: isis-cleartext-keys-leaf2
          id: 5
          bgp_as: 65161
          mgmt_ip: 192.168.201.119/24
          uplink_switch_interfaces: [Ethernet33]
          mlag_interfaces: [Ethernet5, Ethernet6]

l3_edge:
  p2p_links:
    - nodes: [isis-cleartext-keys-leaf1, peer1]
      interfaces: [ethernet2, ethernet2]
      id: 1
      include_in_underlay_protocol: true
