---
eos_designs_documentation:
  enable: false
eos_cli_config_gen_documentation:
  enable: false

ansible_connection: ansible.netcommon.httpapi
ansible_network_os: arista.eos.eos
ansible_user: ansible
ansible_password: ansible
ansible_become: true
ansible_become_method: enable
ansible_httpapi_use_ssl: true
ansible_httpapi_validate_certs: false

# If a device is set to "is_deployed: false" at the host_vars level, then shutdown interfaces towards undeployed peers.
shutdown_interfaces_towards_undeployed_peers: true

fabric_name: FABRIC

underlay_routing_protocol: ebgp
overlay_routing_protocol: ebgp

custom_structured_configuration_management_api_http:
  https_ssl_profile: eAPI_SSL_Profile

local_users:
  - name: ansible
    privilege: 15
    role: network-admin
    sha512_password: $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920
  - name: admin
    privilege: 15
    role: network-admin
    no_password: true

bgp_peer_groups:
  # all passwords set to "arista"
  evpn_overlay_peers:
    password: Q4fqtbqcZ7oQuKfuWtNGRQ==
  ipv4_underlay_peers:
    password: 7x4B4rnJhZB438m9+BrBfQ==
  mlag_ipv4_underlay_peer:
    password: 4b21pAdCvWeAqpcKDFMdWw==
  wan_overlay_peers:
    password: "htm4AZe9mIQOO1uiMuGgYQ=="
    listen_range_prefixes:
      - 10.0.0.0/8

p2p_uplinks_mtu: 1500

default_interfaces:
  - types: [spine]
    platforms: [vEOS-lab]
    uplink_interfaces: [Ethernet1-2]
    downlink_interfaces: [Ethernet1-8]
  - types: [l3leaf, service_leaf]
    platforms: [vEOS-lab]
    uplink_interfaces: [Ethernet1-8]
    mlag_interfaces: [Ethernet3-4]
    downlink_interfaces: [Ethernet8, Ethernet8]
  - types: [l2leaf]
    platforms: [vEOS-lab]
    uplink_interfaces: [Ethernet1-2]

l3_edge:
  p2p_links_ip_pools:
    - name: DCI_IP_pool
      ipv4_pool: 192.168.100.0/24
  p2p_links_profiles:
    - name: DCI_profile
      ip_pool: DCI_IP_pool
      as: [65102, 65202]
      include_in_underlay_protocol: true
  p2p_links:
    - id: 1
      nodes: [dc1-leaf2a, dc2-leaf2a]
      interfaces: [Ethernet6, Ethernet6]
      profile: DCI_profile
    - id: 2
      nodes: [dc1-leaf2b, dc2-leaf2b]
      interfaces: [Ethernet6, Ethernet6]
      profile: DCI_profile

custom_node_type_keys:
  - key: service_leaf
    type: service_leaf
    connected_endpoints: true
    default_evpn_role: client
    default_ptp_priority1: 30
    mlag_support: true
    network_services:
      l2: true
      l3: true
    vtep: true
