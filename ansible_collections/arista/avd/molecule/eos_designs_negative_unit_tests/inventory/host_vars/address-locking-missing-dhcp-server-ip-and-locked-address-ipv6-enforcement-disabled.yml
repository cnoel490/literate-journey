---
type: l3leaf
l3leaf:
  defaults:
    loopback_ipv4_pool: 192.168.255.0/24
    loopback_ipv4_offset: 8
    vtep_loopback_ipv4_pool: 192.168.254.0/24
    virtual_router_mac_address: 00:dc:00:00:00:0a
    mgmt_ip: 1.1.10.10
  nodes:
    - name: address-locking-missing-dhcp-server-ip-and-locked-address-ipv6-enforcement-disabled
      id: 101
      bgp_as: 101

tenants:
  - name: TENANT2
    mac_vrf_vni_base: 10001
    vrfs:
      - name: TEST_ADDRESS_LOCKING
        vrf_vni: 789655
        svis:
          - id: 102
            name: test-address-locking-2
            enabled: true
            address_locking:
              ipv6: true

expected_error_message: >-
  To configure address locking ipv6 for vlan 102 in Tenant 'TENANT2' either `address_locking_settings.dhcp_servers_ipv4` or
  `address_locking_settings.locked_address.ipv6_enforcement_disabled` is required.
