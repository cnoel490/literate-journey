---
# Minimum config to only test the specific feature.
# This tests the general snmp_settings, excluding the tests for location, localize, engine id since that is tested in other files.
# This tests the SNMP hosts ignoring inband management VRF.
type: l2leaf

l2leaf: # dynamic_key: node_type
  defaults:
  nodes:
    - name: host3
      id: 43
      mgmt_ip: 10.10.10.43/26

mgmt_interface_vrf: MGMT
mgmt_gateway: 10.10.10.1

snmp_settings:
  hosts:
    - host: 10.6.75.124
      version: 3
      vrf: default # VRF must be set to "default" since the default changes.
      users:
        - username: USER-WRITE
          authentication_level: auth
    # Testing automatically picking up the oob VRF with the 'use_default_mgmt_method_vrf' keyword.
    # This errors if mgmt_ip is missing.
    - host: 10.6.75.130
      # Notice no VRF here. With the AVD 6 behavior this means "use_default_mgmt_method_vrf"
      version: 2c
      community: SNMP-COMMUNITY-2
