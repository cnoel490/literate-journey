---
# This title is used for search results
title: Porting Guide for Ansible AVD 6.x.x
---
<!--
  ~ Copyright (c) 2025 Arista Networks, Inc.
  ~ Use of this source code is governed by the Apache License 2.0
  ~ that can be found in the LICENSE file.
  -->

# Porting Guide for Ansible AVD 6.x.x

Major releases of AVD can contain breaking changes. This porting guide addresses how to update your inventory
and playbooks to be compatible with new default behaviors and changed data models when upgrading from AVD 5.x versions.

!!! note
    To upgrade from AVD version 4.x, first upgrade to AVD 5.7 using the [Porting Guide for Ansible AVD 5.x.x](https://avd.arista.com/5.7/docs/porting-guides/5.x.x.html)
    and then upgrade to 6.x with this guide.

Users of `eos_designs` need to consider the changes in `eos_cli_config_gen` when using structured configuration.

## Common changes

// TODO: potentially remove if empty

## Removal of Ansible tags from AVD roles

// TODO: potentially remove if empty

## Removal of Ansible components

// TODO: complete table

The following Ansible components have been removed from the `arista.avd` Ansible collection in version 6.0.0.

| Component type | Name | Replacement |
| ----------- | ----------- | ----------- |
| Filter | `arista.avd.xxx` | |
| Action plugin/Module | `arista.avd.xxx` | |
| Role | `arista.avd.xxx` | |

## Changes to role arista.avd.eos_designs

### Removal of deprecated eos_designs data models

The following data model keys have been removed from `eos_designs` in AVD 6.0.0.

| Removed key | New key |
| ----------- | ------- |
| `aaa_settings.accounting.exec.console.group` | `aaa_settings.accounting.exec.console.methods[].group` |
| `aaa_settings.accounting.exec.console.logging` | `aaa_settings.accounting.exec.console.methods[].method` |
| `aaa_settings.accounting.exec.default.group` | `aaa_settings.accounting.exec.default.methods[].group` |
| `aaa_settings.accounting.exec.default.logging` | `aaa_settings.accounting.exec.default.methods[].method` |
| `aaa_settings.accounting.system.default.group` | `aaa_settings.accounting.system.default.methods[].group` |
| `aaa_settings.accounting.dot1x.default.group` | `aaa_settings.accounting.dot1x.default.methods[].group` |
| `aaa_settings.accounting.commands[].console[].group` | `aaa_settings.accounting.commands[].console[].methods[].group` |
| `aaa_settings.accounting.commands[].console[].logging` | `aaa_settings.accounting.commands[].console[].methods[].method` |
| `aaa_settings.accounting.commands[].default[].group` | `aaa_settings.accounting.commands[].default[].methods[].group` |
| `aaa_settings.accounting.commands[].default[].logging` | `aaa_settings.accounting.commands[].default[].methods[].method` |
| `avd_6_behaviors` | - |
| `node_type_keys[].interface_descriptions.overlay_loopback_interface` | `node_type_keys[].interface_descriptions.router_id_loopback_interface`|

## Changes to role `arista.avd.eos_cli_config_gen`

### Removal of deprecated eos_cli_config_gen data models

The following data model keys have been removed from `eos_cli_config_gen` in AVD 6.0.0.

| Removed key | New key |
| ----------- | ------- |
| `aaa_accounting.exec.console.group` | `aaa_accounting.exec.console.methods[].group` |
| `aaa_accounting.exec.console.logging` | `aaa_accounting.exec.console.methods[].method` |
| `aaa_accounting.exec.default.group` | `aaa_accounting.exec.default.methods[].group` |
| `aaa_accounting.exec.default.logging` | `aaa_accounting.exec.default.methods[].method` |
| `aaa_accounting.system.default.group` | `aaa_accounting.system.default.methods[].group` |
| `aaa_accounting.dot1x.default.group` | `aaa_accounting.dot1x.default.methods[].group` |
| `aaa_accounting.commands[].console[].group` | `aaa_accounting.commands[].console[].methods[].group` |
| `aaa_accounting.commands[].console[].logging` | `aaa_accounting.commands[].console[].methods[].method` |
| `aaa_accounting.commands[].default[].group` | `aaa_accounting.commands[].default[].methods[].group` |
| `aaa_accounting.commands[].default[].logging` | `aaa_accounting.commands[].default[].methods[].method` |
| `ethernet_interfaces[].vlans` | `ethernet_interfaces[].switchport.access_vlan or switchport.trunk.allowed_vlan` |
| `ethernet_interfaces[].native_vlan` | `ethernet_interfaces[].switchport.trunk.native_vlan` |
| `ethernet_interfaces[].native_vlan_tag` | `ethernet_interfaces[].switchport.trunk.native_vlan_tag` |
| `ethernet_interfaces[].mode` | `ethernet_interfaces[].switchport.mode` |
| `ethernet_interfaces[].phone` | `ethernet_interfaces[].switchport.phone` |
| `ethernet_interfaces[].trunk_groups` | `ethernet_interfaces[].switchport.trunk.groups` |
| `ethernet_interfaces[].type` | - |
| `ethernet_interfaces[].encapsulation_dot1q_vlan` | `ethernet_interfaces[].encapsulation_dot1q.vlan` |
| `ethernet_interfaces[].encapsulation_vlan.client.dot1q` | `ethernet_interfaces[].encapsulation_vlan.client.encapsulation` |
| `ethernet_interfaces[].encapsulation_vlan.client.unmatched` | `ethernet_interfaces[].encapsulation_vlan.client.encapsulation` |
| `ethernet_interfaces[].encapsulation_vlan.network.dot1q` | `ethernet_interfaces[].encapsulation_vlan.network.encapsulation` |
| `ethernet_interfaces[].encapsulation_vlan.network.client` | `ethernet_interfaces[].encapsulation_vlan.network.encapsulation` |
| `ethernet_interfaces[].tcp_mss_ceiling.ipv4_segment_size` | `ethernet_interfaces[].tcp_mss_ceiling.ipv4` |
| `ethernet_interfaces[].tcp_mss_ceiling.ipv6_segment_size` | `ethernet_interfaces[].tcp_mss_ceiling.ipv6` |
| `ethernet_interfaces[].isis_authentication_mode` | `ethernet_interfaces[].isis_authentication.both.mode or ethernet_interfaces[].isis_authentication.level_1.mode or ethernet_interfaces[].isis_authentication.level_2.mode` |
| `ethernet_interfaces[].isis_authentication_key` | `ethernet_interfaces[].isis_authentication.both.key or ethernet_interfaces[].isis_authentication.level_1.key or ethernet_interfaces[].isis_authentication.level_2.key` |
| `ethernet_interfaces[].trunk_private_vlan_secondary` | `ethernet_interfaces[].switchport.trunk.private_vlan_secondary` |
| `ethernet_interfaces[].pvlan_mapping` | `ethernet_interfaces[].switchport.pvlan_mapping` |
| `ethernet_interfaces[].vlan_translations` | `ethernet_interfaces[].switchport.vlan_translations` |
| `ethernet_interfaces[].vrrp_ids[].ipv6.address` | `ethernet_interfaces[].vrrp_ids[].ipv6.addresses` |
| `ethernet_interfaces[].traffic_engineering.srlg` | `ethernet_interfaces[].traffic_engineering.srlgs` |
| `management_ssh.access_groups` | `management_ssh.ip_access_group_in or management_ssh.vrfs.ip_access_group_in` |
| `management_ssh.ipv6_access_groups` | `management_ssh.ipv6_access_group_in or management_ssh.vrfs.ipv6_access_group_in` |
| `router_path_selection.tcp_mss_ceiling.ipv4_segment_size` | `router_path_selection.tcp_mss_ceiling.ipv4` |

## Changes to role `arista.avd.anta_runner`

// TODO: potentially remove if empty
